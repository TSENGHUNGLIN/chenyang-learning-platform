# 晨陽同仁成長分析 - 專案待辦事項

## 蘋果風格 UI 設計（2025-11-23）

- [x] 引入 Inter 字體（最接近 SF Pro 的開源字體）
- [x] 套用蘋果藍色主題配色（#007AFF）
- [x] 定義 macOS 風格的陰影系統
- [x] 更新全域樣式（index.css）和設計系統
- [x] 更新核心元件（Button、Card、Input、Dialog、Textarea、Select）
- [x] 添加毛玻璃效果（backdrop-blur）和半透明背景
- [x] 優化過渡動畫和圓角設計（10-20px 圓角）
- [x] 保持響應式設計和深色模式支援

---

## 修復考生規劃頁面和指派考生對話框的資料不一致問題（2025-01-23）

### 1. 檢查資料來源差異
- [x] 檢查 ExamPlanning.tsx 的考生資料查詢邏輯
- [x] 檢查 ExamList.tsx 的考生資料查詢邏輯
- [x] 比較兩者的 API 呼叫和資料處理方式
- [x] 確認資料庫中的實際資料

### 2. 修復資料查詢邏輯
- [x] 統一兩個頁面的資料查詢 API
- [x] 確保部門和員工的關聯查詢一致
- [x] 修正資料過濾和分組邏輯

### 3. 測試並驗證修復結果
- [x] 測試考生規劃頁面的考生清單
- [x] 測試指派考生對話框的考生清單
- [x] 確認兩者顯示的資料完全一致
- [x] 儲存檢查點

---

## 考試管理系統改進（2025-11-23）

### 1. 考生規劃頁面改進
- [x] 修改返回按鈕文字為「返回考試管理」
- [x] 改進「選擇考生」下拉選單,改用按部門分組顯示（類似考試列表的指派考生對話框）

### 2. 考試管理入口頁面佈局美學
- [x] 在「主要功能」區塊新增空白項目
- [x] 確保「考生規劃」按鈕與「考試列表」按鈕高度一致

### 3. 測試和部署
- [x] 測試返回按鈕功能
- [x] 測試考生選擇按部門分組顯示
- [x] 測試頁面佈局美觀度
- [x] 儲存檢查點

---

## 考試管理頁面改造（選擇入口頁面）（2025-01-23）

### 1. 考試管理入口頁面設計
- [x] 將 ExamManagement.tsx 改造成選擇入口頁面
- [x] 新增兩個大按鈕卡片：考試列表、考生規劃
- [x] 為每個按鈕加入清晰的功能說明
- [x] 使用蘋果風格漸層設計

### 2. 建立考試列表子頁面
- [x] 建立 ExamList.tsx 頁面（原 ExamManagement 的內容）
- [x] 在 App.tsx 中新增 /exams/list 路由
- [x] 保留所有原有功能（查看、編輯、刪除、指派考生等）

### 3. 更新路由和導航
- [x] 更新側邊欄連結指向新的入口頁面
- [x] 確保考生規劃頁面的返回按鈕指向入口頁面
- [x] 確保考試列表頁面的返回按鈕指向入口頁面

### 4. 測試和部署
- [x] 測試入口頁面的按鈕導航
- [x] 測試考試列表功能完整性
- [x] 測試考生規劃功能完整性
- [x] 儲存檢查點

---

## 調整側邊欄選單順序（2025-01-22）

### 第一次調整（已完成）
- [x] 在 DashboardLayout.tsx 中調整選單項目順序
- [x] 將「補考管理」移到「考試監控」之上
- [x] 測試導航功能
- [x] 儲存檢查點
- [x] 將「考卷範本」移到「分類管理」之上
- [x] 測試新選單順序
- [x] 儲存檢查點

### 第二次調整（進行中）
- [x] 在 DashboardLayout.tsx 中調整選單項目順序
- [x] 將「評核日曆」之下的項目調整為：分類管理 → 標籤管理 → 檔案管理 → AI分析出題
- [x] 測試導航功能
- [x] 儲存檢查點

---

## 考試不及格處理機制（2025-01-22）

### 階段一：資料庫架構設計與補考機制實作
- [x] 設計補考資料表（makeupExams）
- [x] 新增考試狀態欄位（failed、makeup_pending、makeup_completed）
- [x] 實作自動標記不及格考生功能
- [x] 建立補考安排 API（createMakeupExam）
- [x] 實作補考次數限制邏輯
- [x] 實作補考截止日期管理
- [x] 建立補考管理介面（管理員/編輯者專用）
- [x] 測試補考機制

### 階段二：重新學習建議系統開發
- [x] 建立學習建議資料表（learningRecommendations）
- [x] 實作錯題分析演算法
- [x] 建立「需加強知識點」生成邏輯
- [ ] 整合 AI 生成學習建議功能
- [x] 實作相關題目推薦演算法
- [x] 建立學習建議顯示頁面（考生端）
- [ ] 測試學習建議功能

### 階段三：通知提醒系統整合
- [x] 實作不及格通知功能（通知考生）
- [x] 實作補考提醒功能（考試前3天、1天）
- [x] 實作管理員關注名單通知
- [x] 建立通知記錄表（notifications）
- [x] 實作通知歷史查詢功能
- [ ] 測試通知系統

### 階段四：進度追蹤儀表板實作
- [x] 建立「待補考」考試狀態標記
- [x] 建立補考進度儀表板頁面
- [x] 實作補考統計圖表（補考率、通過率）
- [x] 實作成績變化追蹤
- [ ] 測試進度追蹤功能

### 階段五：整合測試與交付
- [ ] 測試完整的不及格處理流程
- [ ] 測試補考機制
- [ ] 測試學習建議功能
- [ ] 測試通知系統
- [ ] 測試進度追蹤功能
- [ ] 編寫完整的測試案例
- [ ] 儲存檢查點並交付

---

## 已完成功能（歷史記錄）

### 改進現有預視功能（2025-01-22）
- [x] CSV 預覽改進
- [x] 考卷範本預覽功能
- [x] 檔案預覽改進
- [x] 題目預覽改進
- [x] 考試預覽功能
- [x] 測試和優化

### UI全站優化：蘋果風格設計應用（2025-01-22）
- [x] 移除首頁的「快速搜尋」區塊
- [x] 移除首頁的「支援檔案格式說明」區塊
- [x] 在檔案管理頁面的上傳對話框中加入檔案格式說明
- [x] 將蘋果風格卡片設計應用到所有頁面

### 線上考試系統
- [x] 設計考試資料庫schema
- [x] 實作考試建立和管理功能
- [x] 實作考生作答介面
- [x] 實作自動評分系統
- [x] 實作成績查看頁面
- [x] 實作考試統計報表
- [x] 實作人工評分介面
- [x] 實作成績匯出功能
- [x] 實作考試狀態管理
- [x] 實作考卷範本系統

### 題庫管理系統
- [x] 設計題庫資料庫schema
- [x] 建立題庫管理頁面
- [x] 實作新增/編輯/刪除考題功能
- [x] 實作題目分類和標籤系統
- [x] 實作批次匯入功能（CSV）
- [x] 實作題庫檔案系統
- [x] 實作題目回收站功能
- [x] 整合AI出題功能

### 基礎功能
- [x] Google OAuth登入整合
- [x] 邀請制存取控制
- [x] 角色權限管理
- [x] 部門與人員管理
- [x] 檔案上傳與管理
- [x] 搜尋功能
- [x] 使用者管理

